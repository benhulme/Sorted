!function(){"use strict";angular.module("sorted").controller("InvestmentPlannerController",["$scope","siteConfig","InvestmentPlannerModel","$timeout","$window","$routeParams","isLoggedIn","pageData","calcData","$analytics",function(e,t,a,n,l,r,o,c,s,i){e.siteConfig=t,e.data=c.data[0],e.calculator=s.data,e.dropdown=s.data.dropdown,e.model=function(){var t={},n=new l.SortedCalculator_InvestmentPlanner;return _.forEach(e.calculator.fields,function(e){_.has(e,"calcModel")&&(t[e.calcModel]=e.value),_.merge(t,{CalcID:"9"})}),new a(t,{calculator:n,parse:!0})}(),e.result=!1,e.interaction=!1,e.resultsInteraction=!1,e.model.on("change",function(t){e.interaction||(i.eventTrack("startinteraction",{category:"calculators",label:"investment planner"}),e.interaction=!0),t.isValid()&&t.calculate()&&(e.resultsInteraction||(i.eventTrack("resultscalculated",{category:"calculators",label:"investment planner"}),e.resultsInteraction=!0),t.result?(e.allReady=!0,e.result=t.result.$attributes.label):(e.allReady=!1,e.result=!1))}),_.has(r,"id")&&o&&e.model.set("ID",r.id).fetch({parse:!0,success:function(e,t,a){console.info("success: ",e,t,a)},error:function(e,t,a){console.error("error: ",e,t,a)}})}])}();