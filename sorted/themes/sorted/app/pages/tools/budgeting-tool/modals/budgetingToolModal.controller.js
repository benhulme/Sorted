!function(){"use strict";angular.module("budgetingTool").controller("BudgetingToolModalCtrl",["$scope","$uibModalInstance","budget","budgetingToolConfig","budgetPeriods","profile","siteConfig",function(e,t,n,o,u,i,c){e.budget=n,e.data={BudgetPeriods:u},e.profile=i,e.siteConfig=c,e.budgetingToolConfig=o,e.addIncomeStream=function(){e.budget.IncomeStreams.length>=o.MAX_STREAMS||e.budget.IncomeStreams.push({Removeable:!0})},e.removeIncomeStream=function(t){e.budget.IncomeStreams.splice(t,1)},e.save=function(){e.budget.IncomeStreams=_(e.budget.IncomeStreams).filter(function(e){return e.Cents>0}).map(function(e){var t=e;return t.Title=e.Title||o.INCOME_STREAM_PLACEHOLDER,t}).value(),e.budget.Cents=_.reduce(e.budget.IncomeStreams,function(e,t){return e+t.Cents},0),t.close(e.budget)},e.$watch("budget.IncomeStreams",function(t){e.budget.Cents=_.sumBy(t,"Cents")},!0),e.cancel=function(){t.dismiss("cancel")}}])}();