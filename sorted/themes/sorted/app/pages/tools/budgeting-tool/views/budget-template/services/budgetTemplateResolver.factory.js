!function(){"use strict";angular.module("budgetingTool").factory("budgetTemplateResolver",["$http","$location","$log","$q","$resource","Budget","budgetingToolConfig","siteConfig",function(e,t,r,o,n,a,g,u){return function(){var i=e({method:"GET",url:u.API_PREFIX+"/page/get/budgeting-tool"}).then(function(e){return e.data[0]},function(e){return r.error(e),null}),d=n(u.APP_PATH+"/json/budget-master-categories.json").get().$promise;return o.all([i,d,a.get()]).then(function(e){if(_.isEmpty(e[2]))return t.path(g.BUDGETING_TOOL_PATH+"/welcome"),o.reject("User needs to visit welcome page first.");if(e[2].hasOwnProperty("MasterCategories"))return t.path(g.BUDGETING_TOOL_PATH),o.reject("User already has a budget");var r=e[1];return e[0]&&(r.BackgroundImage=e[0].BackgroundImage?e[0].BackgroundImage:r.BackgroundImage,r.ForegroundImage=e[0].ForegroundImage?e[0].ForegroundImage:null),{data:r}})}}])}();