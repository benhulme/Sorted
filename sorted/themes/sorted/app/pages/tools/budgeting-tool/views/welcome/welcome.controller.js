!function(){"use strict";angular.module("budgetingTool").controller("WelcomeCtrl",["$location","$scope","$window","Budget","budgetingToolConfig","periodAmount","siteConfig","viewModel",function(e,t,n,o,i,a,d,g){function u(){o.clear(),o.get().then(function(t){if(!_.isEmpty(t))return e.path(i.BUDGETING_TOOL_PATH)})}t.siteConfig=d,t.data=g.toolPage,t.data.BudgetPeriods=i.BUDGET_PERIODS,t.initialPeriod=i.BUDGET_PERIODS[i.DEFAULT_BUDGET_PERIOD],t.isLoggedIn=g.isLoggedIn,t.budget=angular.copy(o.create()),g.salary&&(t.budget.Cents=g.salary),t.next=function(){if(console.log(t.budget.Cents),t.budgetAmountForm.$valid){var n=angular.copy(a.convert(t.budget.Cents,t.initialPeriod,t.budget.Period));return t.budget.IncomeStreams=[{Title:"My income",Cents:n,Removeable:!1}],angular.copy(t.budget,o.budget),e.path(i.BUDGETING_TOOL_PATH+"/budget-template")}},angular.element(n).on("hidden.bs.modal",u),t.$on("$destroy",function(){angular.element(n).off("hidden.bs.modal",u)})}])}();