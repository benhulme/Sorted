!function(){"use strict";angular.module("budgetingTool").factory("budgetHandler",["$q","Alert","Budget","budgetModal","Profile",function(e,n,t,o,r){function a(){r.isLoggedIn().then(t.save).then(function(){t.saveInProgress()&&(t.endSaveAttempt(),n.saved())}).catch(function(e){if(e&&e.calculator)return o.overwriteConfirmModal(e.calculator);if(!r.loginModalTriggered())return e&&!e.loggedIn?n.needAccount():n.saveFailed()})}return{save:a}}])}();