!function(){"use strict";angular.module("budgetingTool").factory("chartValues",["Budget","budgetingToolConfig","colourGenerator","periodAmount","totalValues",function(t,e,r,o,n){function a(){return _.some(t.budget.MasterCategories,function(t){return t.Cents.toNumber()})||void 0===t.budget.MasterCategories?0:1/t.budget.MasterCategories.length}function u(){return _.filter(t.budget.MasterCategories,function(t){return"number"==typeof t.Cents&&(t.Cents=new BigNumber(t.Cents)),t.Cents.greaterThan(0)}).length}function s(){var s=o.displayDollars(n.getSubtotal()),l=(s||1)*e.BREAKDOWN_CHART_SPACER,g=u(),i=a();g<5&&(l/=2);var C=t.budget.MasterCategories;return g&&(C=_.filter(t.budget.MasterCategories,function(t){return t.Cents.greaterThan(0)})),_.flatMap(C,function(t){var e=t.Color;s||(e=r.getStartColour(t.Color));var n=[];1!==g&&n.push({dollars:l,color:"transparent"});var a=o.displayDollars(t.Cents);return n.push({category:t.Title,dollars:a||i,color:e}),n})}return{update:s}}])}();