!function(){"use strict";angular.module("budgetingTool").factory("budgetEvents",["$timeout","$window","Budget","budgetHandler","budgetingToolConfig","budgetModal","Profile",function(n,e,o,a,t,l,i){function d(n,e,a){o.isDirty()&&(l.locationChangeWarningModal(e,a),n.preventDefault())}function u(){if(o.isDirty())return t.BROWSER_CLOSE_WARNING}function r(o){angular.element(e).off("beforeunload",u),angular.element(e).on("hidden.bs.modal",a.save),angular.element(e).off("hidden.bs.modal",i.updateFromSession),o(),g&&n.cancel(g)}angular.element(e).on("beforeunload",u),angular.element(e).on("hidden.bs.modal",a.save),angular.element(e).on("hidden.bs.modal",i.updateFromSession);var g=n(function(){i.isLoggedIn().catch(l.loginReminderModal)},t.LOGIN_REMINDER_TIMEOUT);return{changeLocationWarning:d,onDestroy:r,warnClose:u}}])}();