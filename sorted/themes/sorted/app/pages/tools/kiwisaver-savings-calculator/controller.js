!function(){"use strict";angular.module("sorted").controller("KiwisaverSavingsController",["$scope","siteConfig","KiwiSaverSavingsModel","$window","$routeParams","isLoggedIn","pageData","calcData","$analytics",function(a,t,e,n,r,c,l,o,i){var s=new n.SortedCalculator_KiwiSaver;a.siteConfig=t,a.data=l.data[0],a.calculator=o.data,a.model=function(){var t={};return _.forEach(a.calculator.fields,function(a){t[a.calcModel]=a.value}),_.merge(t,_.pick(a.calculator,"CalcID")),new e(t,{parse:!0})}(o.data),a.resultsInteraction=!1,a.interaction=!1,a.loadChange=0,a.hasResult=function(){var t=!_.isEmpty(a.model)&&a.model.hasResult();return t&&(a.resultsInteraction||(i.eventTrack("resultscalculated",{category:"calculators",label:"KS savings"}),a.resultsInteraction=!0)),t},_.has(r,"id")&&c&&a.model.set("ID",r.id).fetch({parse:!0,success:function(a,t,e){},error:function(a,t,e){}}),a.$watch("model.$attributes",function(){a.loadChange>1?a.interaction||(i.eventTrack("startinteraction",{category:"calculators",label:"KS savings"}),a.interaction=!0):a.loadChange++,a.model.calculate(s)},!0)}])}();