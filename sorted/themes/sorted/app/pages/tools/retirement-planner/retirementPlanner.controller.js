!function(){"use strict";angular.module("sorted").controller("RetirementPlannerController",["$scope","siteConfig","RetirementPlannerModel","$window","$routeParams","isLoggedIn","pageData","calcData","$analytics",function(e,a,t,l,n,c,r,o,i){e.siteConfig=a,e.data=r.data[0],e.calculator=o.data,e.resultsInteraction=!1,e.interaction=!1,e.loadChange=0,e.model=function(){var a={},n=new l.SortedCalculator_Retirement;return _.forEach(e.calculator,function(e){_.forEach(e.fields,function(e){_.has(e,"calcModel")&&(a[e.calcModel]=e.value)})}),_.merge(a,{CalcID:"1"}),new t(a,{parse:!0,calculator:n})}(),e.model.on("change",function(a){e.loadChange>0?e.interaction||(i.eventTrack("startinteraction",{category:"calculators",label:"retirement"}),e.interaction=!0):e.loadChange++,a.calculate().hasResult()&&(e.resultsInteraction||(console.log("resultsInteraction called!"),i.eventTrack("resultscalculated",{category:"calculators",label:"retirement"}),e.resultsInteraction=!0)),a.calculate().hasResult()}),_.has(n,"id")&&c&&e.model.set("ID",n.id).fetch({parse:!0})}])}();