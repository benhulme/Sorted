!function(){"use strict";angular.module("sorted").directive("mortgageToolGraphicText",["siteConfig",function(t){return{templateUrl:t.APP_PATH+"app/pages/tools/mortgage-tool/mortgage-tool-graphic-text/calc-graphic-text.html",restrict:"EA",scope:{model:"=",calculator:"="},controller:["$scope",function(t){t.currentModel=t.model.collection.at(0),t.$on("output:update",function(o,e){function r(){var o=t.currentModel.result.get("total"),e=t.currentModel.result.get("interest"),r=o-e;if(t.factor=(o/r).toFixed(2),isNaN(t.factor))t.showText=!1;else{t.showText=!0,t.wholeNumber=Math.floor(t.factor),t.numIcons=[];for(var c=0;c<t.wholeNumber;c++)t.numIcons.push(c);t.fraction=Math.floor(10*(t.factor-t.wholeNumber)),t.fraction>0&&(t.fractionSrc=t.calculator.graphic.smallIcons[t.fraction])}t.factor<1.2&&(t.showText=!1)}t.currentModel=t.model.collection.at(e),t.currentModel.result.on("change",function(){r()}),r()})}]}}])}();