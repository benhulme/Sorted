!function(){"use strict";angular.module("sorted").directive("mortgageToolInput",["siteConfig","$window",function(e,t){return{templateUrl:e.APP_PATH+"app/pages/tools/mortgage-tool/mortgage-tool-input/calc-input.html",restrict:"EA",scope:{calculator:"=",model:"=",validation:"="},link:function(e,n){n.on("click",".calc-heading",function(t){var a=n.find(".calc-input-group.selected"),l=angular.element(t.currentTarget);l.parent().hasClass("selected")||(a.find(".calc-input-container").slideUp(),a.removeClass("selected"),l.parent().find(".calc-input-container").slideDown(),l.parent().addClass("selected"),e.$apply(e.$emit("input:changed",l.data("model-id"))))}),n.on("click",".ui-results-link",function(e){e.preventDefault();var n=angular.element(".calc-output"),a=n.offset().top-80;t.scrollTo(0,a)}),e.currentModel.on("result:change",function(e){var t=["#loan1","#repayments1","#term1"];!e.hasResult()&&e.get("repayments1")>0?t.forEach(function(e){var t=angular.element(e);t.addClass("form-input-error"),t.parent().parent().find("label").addClass("font-red")}):t.forEach(function(e){var t=angular.element(e);t.removeClass("form-input-error"),t.parent().parent().find("label").removeClass("font-red")})}),e.calcTotal=function(){var t=parseInt(e.model.collection.at(0).$attributes.loan1),n=parseInt(e.model.collection.at(1).$attributes.loan1),a=parseInt(e.model.collection.at(2).$attributes.loan1);return isNaN(t)&&(t=0),isNaN(n)&&(n=0),isNaN(a)&&(a=0),t+n+a}},controller:["$scope",function(e){e.currentModel=e.model.collection.at(0),e.$on("output:update",function(t,n){e.currentModel=e.model.collection.at(n)})}]}}])}();