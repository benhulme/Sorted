!function(){"use strict";angular.module("sorted").directive("savingsCalculatorForm",["siteConfig",function(e){return{templateUrl:e.APP_PATH+"app/pages/tools/savings-calculator/savings-calculator-form/form.html",restrict:"EA",scope:{models:"=",calculator:"=",nudge:"="},link:function(e,a){a.on("blur","#regularAmount",function(a){var t=parseInt(angular.element(a.currentTarget).val());e.nudge.options.ceil=5*t,e.nudge.options.floor=t}),e.selectedButton=0,a.on("click",".savings-calc-type-selector .input-select-button",function(a){var t=angular.element(a.currentTarget);if(e.$apply(function(){e.selectedButton=parseInt(t.attr("data-value"))}),t.data("related")){var n=angular.element(t.data("related"));n.parent().find(t.data("toggle")).addClass("_hidden"),n.removeClass("_hidden")}0===e.selectedButton?(angular.element("#savingsGoalResult").addClass("_hidden"),angular.element("#regularSavingsResult").removeClass("_hidden")):(angular.element("#savingsGoalResult").removeClass("_hidden"),angular.element("#regularSavingsResult").addClass("_hidden")),e.models&&e.$apply(function(){e.models.currentType=t.data("value")})})},controller:["$scope",function(e){e.getValidation=function(a,t){var n=_.find(e.calculator.models,{id:a});return _.find(n.fields,{id:t}).validation}}]}}])}();