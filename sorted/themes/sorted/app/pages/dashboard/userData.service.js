!function(){"use strict";angular.module("sorted").service("userStorage",["$http",function(e){var t={};return t.isLoggedIn=function(){return null!==sessionStorage.getItem("userData")},t.data=JSON.parse(sessionStorage.getItem("userData")),t.getProfile=function(){return e({method:"GET",header:{"X-Csrf-Token":window.$_gah2Anoh},url:"/api/v0.1/profile/get"}).then(function(e){sessionStorage.setItem("userData",JSON.stringify(e.data))},function(){console.error("Failed to retrieve profile.")})},t.saveProfile=function(t){return e({method:"PUT",headers:{"X-Csrf-Token":window.$_gah2Anoh},url:"/api/v0.1/profile/update",data:t}).then(function(){sessionStorage.setItem("userData",t)},function(){console.error("Failed to retrieve profile.")})},t.updateUsersAvatar=function(t){var r=new FormData;return r.append("Image",t),e.post("/api/v0.1/profile/upload",r,{transformRequest:angular.identity,headers:{"Content-Type":void 0,"X-Csrf-Token":window.$_gah2Anoh}})},t}])}();