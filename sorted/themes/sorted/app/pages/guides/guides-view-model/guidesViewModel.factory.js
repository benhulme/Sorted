!function(){"use strict";angular.module("sorted").factory("guidesViewModel",["$filter","silverStripeService",function(e,t){function r(t){var r=t.data[0];return _.map(r.Categories,function(t){t.Slug=e("titleSlug")(t.Title)}),_.reduce(r.Categories,function(e,t){return t.Pages=_.filter(r.GuidePages,function(e){return _.includes(e.CategoryIDs,""+t.ID)}),e.push(t),e},[])}function u(e){return console.error("Failed to load guide pages",e),null}function i(){return t.get("guidesArticles").then(r,u)}return{build:i}}])}();