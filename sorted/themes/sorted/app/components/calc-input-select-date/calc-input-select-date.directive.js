!function(){"use strict";angular.module("sorted").directive("calcInputSelectDate",["siteConfig",function(e){return{templateUrl:e.APP_PATH+"app/components/calc-input-select-date/input.html",restrict:"EA",scope:{field:"=",model:"="},link:function(t,l){l.on("change","input",function(l){var o=angular.element(l.currentTarget).val(),c=moment(Date.parse(o));t.model.set(t.field.calcModel,c.isValid()?c.format(e.DATE_FORMAT):"")})},controller:["$scope",function(t){t.options={format:"dd/MM/yyyy",parseFormats:[e.DATE_FORMAT]},t.dateModel=t.model.get(t.field.calcModel),t.$watch("model.$attributes[field.calcModel]",function(){t.model&&(t.dateModel=t.model.get(t.field.calcModel))},!0)}]}}])}();