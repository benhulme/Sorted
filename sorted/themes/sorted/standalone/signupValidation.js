"use strict";$(document).ready(function(){var a;jQuery.validator.addMethod("ajaxEmail",function(a){var e=!0,s={Email:a};return $.ajax({type:"POST",url:"/api/v0.1/profile/checkemail",data:s,async:!1,success:function(a){e="true"===a.success}}),e},'This email address is already being used. Do you want to <a  data-dismiss="modal" data-toggle="modal" data-target="#login-modal" >log in</a> or <a href="/Security/lostpassword">reset your password?</a>');var e=function(){var e=new Date;a=$("#signup").validate({rules:{Email:{required:!0,email:!0,maxlength:256,ajaxEmail:!0},FirstName:{required:!0,maxlength:25},Surname:{required:!0,maxlength:25},MobilPhone:{minlength:7,maxlength:15,digits:!0},Password:{password:!0},Confirm_password:{password:!1,required:!0,minlength:8,maxlength:100,equalTo:"#Password"},month:{required:!0},year:{required:!0,range:[1900,e.getFullYear()]},conditions:"required"},messages:{Email:{email:"Enter a valid email address",required:"Email is required"},Confirm_password:"Passwords do not match",FirstName:"First name is required",Surname:"Last name is required",year:"Please enter a valid birthdate",month:"Please select a month",conditions:"Agree to Sortedâ€™s terms & condition required"},submitHandler:function(a,e){e.preventDefault();var a=$(a),s={FirstName:a.find('[name="FirstName"]').val(),Surname:a.find('[name="Surname"]').val(),Password:a.find('[name="Password"]').val(),Email:a.find('[name="Email"]').val(),MobilePhone:a.find('[name="MobilPhone"]').val(),Subscription:a.find('[name="Subscription"]').prop("checked"),BirthDate:a.find('[name="year"]').val()+"-"+a.find('[name="month"]').val()+"-01"},n={Email:a.find('[name="Email"]').val(),Password:a.find('[name="Password"]').val()};return $.ajax({type:"POST",dataType:"json",headers:{"X-Csrf-Token":window.$_gah2Anoh},url:"/api/v0.1/profile/save",data:JSON.stringify(s),async:!1,success:function(){$("#signup-modal").modal("hide")},complete:function(){$.ajax({type:"POST",headers:{"X-Csrf-Token":window.$_gah2Anoh},dataType:"json",url:"/api/v0.1/profile/login",data:n,async:!1,success:function(){$(".modal-backdrop").remove(),$("body").removeClass("modal-open"),window.open(window.location.origin+"#/check-email","_blank"),loginProfile()}})}}),!1}})};$.validator.passwordRating.messages={"too-short":"Password should be at least 8 symbols",weak:"<p class='password-error'>Password must be at least 8 characters long and contain three of the following: capital letter, lowercase letter, number, punctuation mark or a special character(e.g. $&*!@#)</p><div class='password-bullet red'></div><div class='password-bullet'></div><div class='password-bullet'></div> <span class='font-xs'>Weak</span>",good:"<div class='password-bullet yellow'></div><div class='password-bullet yellow'></div><div class='password-bullet '></div> <span class='font-xs'>Good</span>",strong:"<div class='password-bullet green'></div><div class='password-bullet green'></div><div class='password-bullet green'></div> <span class='font-xs'>Strong</span>"};setInterval(function(){$("#signup-modal").length&&($("#signup-modal").on("shown.bs.modal",function(){e()}),$("#signup-modal").on("hiden.bs.modal",function(){a.resetForm()}))},100)});