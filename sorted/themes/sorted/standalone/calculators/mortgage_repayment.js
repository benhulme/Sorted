var SortedCalculator_Mortgage_Repayment=SortedCalculator.extend({init:function(){"use strict";this._super()},calculate:function(e,t){"use strict";console.debug=!1,t===!0&&(console.debug=!0);var n={};return n.mortgage1=this.real_calc(e,1),n.mortgage2=this.real_calc(e,2),n.mortgage3=this.real_calc(e,3),n},real_calc:function(e,t){"use strict";var n,l={},c={};return l.d8=Number(e["interest"+t]/100),l.k29=Number(e["term"+t]),l.k31=Number(e["freq"+t]),l.k32=100*l.d8/l.k31/100,l.k34=Number(e["loan"+t]),l.k32>0?l.c23=l.k34/((1-Math.pow(1+l.k32,-(l.k31*l.k29)))/l.k32):l.c23=l.k34/(l.k31*l.k29),l.b26=l.c23*l.k31*l.k29,l.c26=l.b26-l.k34,l.d26=l.k29,l.b20=e.month_born1,l.c20=e.year_born1,l.e26=null,l.e45=null,n=null,null!==Date.parse("15/"+l.b20+"/"+l.c20)&&(n=new TimeSpan(Date.today()-Date.parse("15/"+l.b20+"/"+l.c20)),l.e26=this.trunc(n.getDays()/365.25+l.k29),l.e45=this.round(l.e26-.1*l.k29)),l.c30=1.1*l.c23,l.c30=10*(l.c30/10).toFixed(0),l.k32>0?l.k36=-Math.log(1-l.k34/l.c30*l.k32)/Math.log(1+l.k32)/l.k31:l.k36=l.k34/(l.k31*l.c30),l.b33=l.c30*l.k31*l.k36,l.c33=l.b33-l.k34,l.d33=this.roundUP(l.k36,0),l.e33=null,null!==n&&(l.e33=this.trunc(n.getDays()/365.25+l.k36)),l.e30=l.b26-l.b33,l.d39=this.roundUP(.9*l.k29,0),l.k37=l.d39,l.k32>0?l.c36=l.k34/((1-Math.pow(1+l.k32,-(l.k31*l.k37)))/l.k32):l.c36=l.k34/(l.k31*l.k37),l.b39=l.c36*l.k37*l.k31,l.c39=l.b39-l.k34,l.e39=null,null!==n&&(l.e39=this.trunc(n.getDays()/365.25+l.d39)),l.e36=l.b26-l.b39,l.k38=null,l.c42=null,l.b45=null,l.c45=null,l.d45=null,l.e42=null,null!==n&&(l.k38=n.getDays(-1)/365.25,l.k32>0?l.c42=l.k34/((1-Math.pow(1+l.k32,-(l.k31*l.k38)))/l.k32):l.c42=l.k34/(l.k31*l.k38),l.b45=l.c42*l.k31*l.k38,l.c45=l.b45-l.k34,l.d45=this.roundUP(l.k38,0),l.e42=l.b26-l.b45),c={min_repayment:this.round(l.c23,2).toFixed(2),total:this.round(l.b26,2).toFixed(2),interest:this.round(l.c26,2).toFixed(2),time:l.d26,age:l.e26},console.debug=!1,c}}),testmode=!1,testObj={loan1:3e5,type1:1,interest1:7.5,freq1:12,term1:20,loan2:48e4,type2:2,interest2:5.8,freq2:12,term2:30,loan3:2e5,type3:2,interest3:6,freq3:26,term3:10,month_born:6,year_born:1977};testmode===!0&&function(e){"use strict";function t(){var e=new SortedCalculator_Mortgage_Repayment,t=e.calculate(testObj,!0);console.debug=!0,console.log("><><><><> INPUT <><><><><"),console.dir(testObj),console.log("><><><><> OUTPUT <><><><><"),console.dir(t)}e(document).ready(function(){e(".html").append("<h1>TESTMODE</h1>").append("<input id='calculate' type='button' value='test calc' />")}),e("#calculate").live("click",function(){t()})}(jQuery);