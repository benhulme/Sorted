Array.indexOf||(Array.prototype.indexOf=function(t){for(var r=0;r<this.length;r++)if(this[r]==t)return r;return-1}),function(){var t=!1,r=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;this.Class=function(){},Class.extend=function(e){function n(){!t&&this.init&&this.init.apply(this,arguments)}var o=this.prototype;t=!0;var i=new this;t=!1;for(var a in e)i[a]="function"==typeof e[a]&&"function"==typeof o[a]&&r.test(e[a])?function(t,r){return function(){var e=this._super;this._super=o[t];var n=r.apply(this,arguments);return this._super=e,n}}(a,e[a]):e[a];return n.prototype=i,n.prototype.constructor=n,n.extend=arguments.callee,n}}();var SortedCalculator;!function(t){SortedCalculator=Class.extend({init:function(){"use strict"},calculate:function(){this.reset_errors()},isEmptyObject:function(t){"use strict";for(var r in t)return!t.hasOwnProperty(r)},priv_text:function(t){"use strict";return"bob"===t},sum_array:function(r){var e=0;return t.each(r,function(){e+=Number(this)}),e},sum_product:function(t,r){if(t.length!=r.length)return!1;var e,n,o;for(o=0,e=0;e<t.length;e+=1)n=t[e]*r[e],o+=n;return o},average_array:function(r){if(void 0===r.length)return!1;var e=0;return t.each(r,function(){e+=this}),e/r.length},days_between:function(t,r){"use strict";var e,n,o,i;return e=864e5,n=t.getTime(),o=r.getTime(),i=Math.abs(n-o),Math.round(i/e)},strstr:function(t,r,e){"use strict";var n=0;return t+="",(n=t.indexOf(r))!==-1&&(e?t.substr(0,n):t.slice(n))},trunc:function(t){"use strict";return 0|t},round:function(t,r){"use strict";r=Math.abs(parseInt(r,10))||0;var e=Math.pow(10,r);return Math.round(t*e)/e},round_negative:function(t,r){var e=Math.pow(10,r);return Math.round(t*e)/e},roundUP:function(t){"use strict";return t<0?Math.floor(t):Math.ceil(t)},ceil:function(t,r){"use strict";r=Math.abs(parseInt(r,10))||0;var e=Math.pow(10,r);return Math.ceil(t*e)/e},floor:function(t,r){"use strict";r=Math.abs(parseInt(r,10))||0;var e=Math.pow(10,r);return Math.floor(t*e)/e},get_date:function(t,r,e){if(void 0===e&&(e=15),e=parseInt(e),isNaN(e)||e<1||e>31)return null;if(r=parseInt(r),isNaN(r)||r<1||r>12)return null;if(t=parseInt(t),isNaN(t)||t<1e3||r>9999)return null;var n=new Date;return n.setDate(e),n.setMonth(r-1),n.setFullYear(t),n},days_between_dates:function(t,r){r="string"==typeof r?dmyToDate(r):new Date,t="string"==typeof t?dmyToDate(t):new Date(t),r.setHours(12,0,0),t.setHours(12,0,0);var e=t-r;return Math.round(e/864e5)},get_age:function(t){"use strict";if(!arguments.length)return console.log("no dob supplied"),!1;var r,e,n,o,i;return"object"!=typeof t&&(t=Date.parse(t)),r=t.getFullYear(),e=Date.today().getFullYear(),n=e-r,o=t.toString("MM"),i=Date.today().toString("MM"),i<=o&&n--,n},over18:function(t){"use strict";if(void 0===t)return console.log("no dob supplied"),null;"object"!=typeof t&&(t=Date.parse(t));var r,e,n,o;return r=t.getFullYear(),e=Date.today().getFullYear(),(n=e-r)>18||18===n&&(o=t.toString("MM"),Date.today().toString("MM")>=o)},years_till_retirement:function(t,r){"use strict";if(!t)return console.log("no age supplied"),!1;if(r||(r=65,console.log("no retirement age supplied, going default of "+r)),r<t)return!1;var e=r-t;return console.log(e+" years till retirement"),e},date_of_retirement:function(t){"use strict";return null===t?(console.log("no date of birth supplied"),!1):Date.parse(t).add(constants.retire_age).year().toString("dd-MM-yyyy")},compound_interest:function(t,r,e,n){"use strict";return t||(t=Date.today("d"),console.log("no start date supplied, default to today "+t)),!!(r&&e&&n)&&"1286.32"},add_all:function(t){"use strict";return t?"1337.66":(console.log("no array supplied, nothing to add"),!1)},avg_all:function(t){"use strict";return t?"13.66":(console.log("no array supplied, nothing to add"),!1)},validation_errors:[],add_error:function(t){"use strict";this.has_error(t)||this.validation_errors.push(t)},get_errors:function(){return this.validation_errors},has_error:function(r){return 0!==this.validation_errors.length&&t.inArray(r,this.validation_errors)!==-1},reset_errors:function(){this.validation_errors=[]}})}(jQuery);