/*! event_money_planner.js */
var SortedCalculator_EventMoneyPlanner=SortedCalculator.extend({init:function(){'use strict';this._parent();console.log('SortedCalculator_EventMoneyPlanner.init');},field_totals:function(obj){'use strict';var total=0;for(var i=0;i<10;i++){var fieldval=parseFloat(obj['field_emp_budget_items[und]['+i+'][value]']);if(!isNaN(fieldval)){total=total+fieldval;}}
return total;},calculate:function(obj){'use strict';var total=this.field_totals(obj);var balance=parseFloat(obj['field_emp_budget[und][0][value]']);if(isNaN(balance)){balance=0;}
var difference=balance-total;return{'total':total,'budget':balance,'difference':difference};}});var testmode=false;var testObj={'budget[und][0][value]':'1000','budget_items[und][0][value]':'100','budget_items[und][0][value]':'500'};if(testmode===true){console.debug=true;(function($){'use strict';$(document).ready(function(){$('html').append("<h1>TESTMODE</h1>").append("<input id='calculate-test' type='button' value='test calc' />");});function testCalcLogic(t){var test=new SortedCalculator_EventMoneyPlanner(),results=test.calculate(testObj);console.log('><><><><> INPUT <><><><><');console.dir(testObj);console.log('><><><><> OUTPUT <><><><><');console.dir(results);}
$('#calculate-test').live("click",function(){testCalcLogic();});}(jQuery));}
